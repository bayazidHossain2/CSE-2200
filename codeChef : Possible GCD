#include<iostream>
#include<set>
using namespace std;
///Problem link : https://www.codechef.com/JUNE221D/problems/DISTGCD
int main(){
    int T;
    cin>>T;
    while(T--){
        long long A,B;
        cin>>A>>B;
        set<long long> divA,divB,res;
        for(long long i=1;i*i<=A;i++){
            if(A%i==0){
                divA.insert(i);
                if(A/i!=i){
                    divA.insert(A/i);
                }
            }
        }
        for(long long i=1;i*i<=B;i++){
            if(B%i==0){
                divB.insert(i);
                if(divA.count(i)){
                    res.insert(i);
                }
                if(B/i!=i){
                    divB.insert(B/i);
                    if(divA.count(B/i)){
                        res.insert(B/i);
                    }
                }
            }
        }
        cout<<res.size()<<endl;
    }return 0;
}
